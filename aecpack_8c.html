<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-g2c: aecpack.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-g2c
   &#160;<span id="projectnumber">1.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('aecpack_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">aecpack.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Pack array of float/double using AEC/CCSDS compression.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;libaec.h&gt;</code><br />
<code>#include &quot;<a class="el" href="grib2__int_8h_source.html">grib2_int.h</a>&quot;</code><br />
</div>
<p><a href="aecpack_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afb40b559127a62584c554aa169b5256d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aecpack_8c.html#afb40b559127a62584c554aa169b5256d">aecpack</a> (float *fld, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> width, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> height, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *idrstmpl, unsigned char *cpack, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *lcpack)</td></tr>
<tr class="memdesc:afb40b559127a62584c554aa169b5256d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function packs up a float array into a AEC code stream.  <a href="aecpack_8c.html#afb40b559127a62584c554aa169b5256d">More...</a><br /></td></tr>
<tr class="separator:afb40b559127a62584c554aa169b5256d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c6245e0aecfa29d43a00532a0dc27d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aecpack_8c.html#a53c6245e0aecfa29d43a00532a0dc27d">aecpack_int</a> (void *fld, int fld_is_double, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> width, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> height, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *idrstmpl, unsigned char *cpack, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *lcpack, int verbose)</td></tr>
<tr class="memdesc:a53c6245e0aecfa29d43a00532a0dc27d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal function packs up a float or double array into a AEC/CCSDS code stream.  <a href="aecpack_8c.html#a53c6245e0aecfa29d43a00532a0dc27d">More...</a><br /></td></tr>
<tr class="separator:a53c6245e0aecfa29d43a00532a0dc27d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a9cad5cb1b61577be6e72d808e14c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aecpack_8c.html#ac6a9cad5cb1b61577be6e72d808e14c3">g2c_aecpackd</a> (double *fld, size_t width, size_t height, int *idrstmpl, unsigned char *cpack, size_t *lcpack)</td></tr>
<tr class="memdesc:ac6a9cad5cb1b61577be6e72d808e14c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function packs up a double array into a AEC code stream.  <a href="aecpack_8c.html#ac6a9cad5cb1b61577be6e72d808e14c3">More...</a><br /></td></tr>
<tr class="separator:ac6a9cad5cb1b61577be6e72d808e14c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd8e42cf0e81b30e85b5860f2e19368"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aecpack_8c.html#a1dd8e42cf0e81b30e85b5860f2e19368">g2c_aecpackf</a> (float *fld, size_t width, size_t height, int *idrstmpl, unsigned char *cpack, size_t *lcpack)</td></tr>
<tr class="memdesc:a1dd8e42cf0e81b30e85b5860f2e19368"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function packs up a float array into a AEC code stream.  <a href="aecpack_8c.html#a1dd8e42cf0e81b30e85b5860f2e19368">More...</a><br /></td></tr>
<tr class="separator:a1dd8e42cf0e81b30e85b5860f2e19368"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Pack array of float/double using AEC/CCSDS compression. </p>
<dl class="section author"><dt>Author</dt><dd>Eric Engle </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-09-10</dd></dl>
<h3><a class="anchor" id="autotoc_md6"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2023-09-10   </td><td class="markdownTableBodyNone">Engle   </td><td class="markdownTableBodyNone">Initial; Adapted from <a class="el" href="aecpack_8c.html" title="Pack array of float/double using AEC/CCSDS compression.">aecpack.c</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2023-10-16   </td><td class="markdownTableBodyNone">Engle   </td><td class="markdownTableBodyNone">Added include libaec to set default values   </td></tr>
</table>
<p>for CCSDS parameters. </p>

<p class="definition">Definition in file <a class="el" href="aecpack_8c_source.html">aecpack.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afb40b559127a62584c554aa169b5256d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb40b559127a62584c554aa169b5256d">&#9670;&nbsp;</a></span>aecpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aecpack </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>lcpack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function packs up a float array into a AEC code stream. </p>
<p>After the data are scaled, and the reference value is subtracted out, the data are passed to the AEC encoder.</p>
<p>This function also fills in GRIB2 Data Representation Template 5.42 with the appropriate values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fld</td><td>Pointer to the float data values to pack. </td></tr>
    <tr><td class="paramname">width</td><td>The number of points in the x direction. </td></tr>
    <tr><td class="paramname">height</td><td>The number of points in the y direction. </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Contains the array of values for Data Representation Template <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-42.shtml">Table 5.42</a>.<ul>
<li>0 Reference value - ignored on input, set by aecpack routine.</li>
<li>1 Binary Scale Factor - used on input, unchanged by aecpack routine.</li>
<li>2 Decimal Scale Factor - used on input, unchanged by aecpack routine.</li>
<li>3 number of bits for each data value - ignored on input</li>
<li>4 Original field type - currently ignored on input Data values assumed to be reals. Set to 0 on output.</li>
<li>5 CCSDS compression options mask.</li>
<li>6 Block size.</li>
<li>7 Reference sample interval. May be modified in this function. </li>
</ul>
</td></tr>
    <tr><td class="paramname">cpack</td><td>A pointer that will get the packed data field. Must be allocated before this function is called. Pass the allocated size in the lcpack parameter. </td></tr>
    <tr><td class="paramname">lcpack</td><td>Pointer that gets the length of packed field in cpack. This must be set by the calling function to the size available in cpack.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Eric Engle (adapted from jpcpack) </dd></dl>

<p class="definition">Definition at line <a class="el" href="aecpack_8c_source.html#l00297">297</a> of file <a class="el" href="aecpack_8c_source.html">aecpack.c</a>.</p>

<p class="reference">References <a class="el" href="aecpack_8c_source.html#l00053">aecpack_int()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__addfield_8c_source.html#l00099">g2_addfield()</a>.</p>

</div>
</div>
<a id="a53c6245e0aecfa29d43a00532a0dc27d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c6245e0aecfa29d43a00532a0dc27d">&#9670;&nbsp;</a></span>aecpack_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int aecpack_int </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fld_is_double</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>lcpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal function packs up a float or double array into a AEC/CCSDS code stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fld</td><td>Pointer to the float or double data values to pack. </td></tr>
    <tr><td class="paramname">fld_is_double</td><td>If non-zero, then fld points to array of doubles, otherwise an array of floats. </td></tr>
    <tr><td class="paramname">width</td><td>The number of points in the x direction. </td></tr>
    <tr><td class="paramname">height</td><td>The number of points in the y direction. </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Contains the array of values for Data Representation Template <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-42.shtml">Table 5.42</a>. May be modified in this function. </td></tr>
    <tr><td class="paramname">cpack</td><td>A pointer that will get the packed data field. Must be allocated before this function is called. Pass the allocated size in the lcpack parameter. </td></tr>
    <tr><td class="paramname">lcpack</td><td>Pointer that gets the length of packed field in cpack. This must also be set by the calling function to the size available in cpack. </td></tr>
    <tr><td class="paramname">verbose</td><td>If non-zero, error messages will be printed in case of error. Otherwise, error codes will be return but no error messages printed. Calls to the original g2c API may cause error messages to be printed in case of error. For the new g2c_ API, no error messages will be printed - instead an error code will be returned. Call <a class="el" href="g2cutil_8c.html#a1792f482362669e846f8f69e0eb63fe0" title="Given an error code, return an error message.">g2c_strerror()</a> to get the error message for any error code.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="grib2_8h.html#af837ca43cf1f95ac2d4096d3c3e35576" title="No error.">G2C_NOERROR</a> No error.</li>
<li><a class="el" href="grib2_8h.html#ab939f2e805eff6e23443695b56fb38cc" title="Error encoding/decoding AEC data.">G2C_EAEC</a> Error encoding/decoding AEC data.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Eric Engle </dd></dl>

<p class="definition">Definition at line <a class="el" href="aecpack_8c_source.html#l00053">53</a> of file <a class="el" href="aecpack_8c_source.html">aecpack.c</a>.</p>

<p class="reference">References <a class="el" href="grib2__int_8h_source.html#l00030">ALOG2</a>, <a class="el" href="decenc__aec_8c_source.html#l00111">enc_aec()</a>, <a class="el" href="grib2_8h_source.html#l00491">G2C_NOERROR</a>, <a class="el" href="int__power_8c_source.html#l00018">int_power()</a>, <a class="el" href="grib2__int_8h_source.html#l00426">LOG</a>, <a class="el" href="mkieee_8c_source.html#l00022">mkieee()</a>, and <a class="el" href="gbits_8c_source.html#l00180">sbits()</a>.</p>

<p class="reference">Referenced by <a class="el" href="aecpack_8c_source.html#l00297">aecpack()</a>, <a class="el" href="aecpack_8c_source.html#l00410">g2c_aecpackd()</a>, and <a class="el" href="aecpack_8c_source.html#l00346">g2c_aecpackf()</a>.</p>

</div>
</div>
<a id="ac6a9cad5cb1b61577be6e72d808e14c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a9cad5cb1b61577be6e72d808e14c3">&#9670;&nbsp;</a></span>g2c_aecpackd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g2c_aecpackd </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lcpack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function packs up a double array into a AEC code stream. </p>
<p>After the data are scaled, and the reference value is subtracted out, the data are passed to the AEC encoder.</p>
<p>This function also fills in GRIB2 Data Representation Template 5.42 with the appropriate values.</p>
<p>This function is the V2 API version of <a class="el" href="aecpack_8c.html#afb40b559127a62584c554aa169b5256d" title="This function packs up a float array into a AEC code stream.">aecpack()</a> for floats.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fld</td><td>Pointer to the float data values to pack. </td></tr>
    <tr><td class="paramname">width</td><td>The number of points in the x direction. </td></tr>
    <tr><td class="paramname">height</td><td>The number of points in the y direction. </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Contains the array of values for Data Representation Template <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-42.shtml">Table 5.42</a>.<ul>
<li>0 Reference value - ignored on input, set by aecpack routine.</li>
<li>1 Binary Scale Factor - used on input, unchanged by aecpack routine.</li>
<li>2 Decimal Scale Factor - used on input, unchanged by aecpack routine.</li>
<li>3 number of bits for each data value - ignored on input</li>
<li>4 Original field type - currently ignored on input Data values assumed to be reals. Set to 0 on output.</li>
<li>5 CCSDS compression options mask.</li>
<li>6 Block size.</li>
<li>7 Reference sample interval. May be modified in this function. </li>
</ul>
</td></tr>
    <tr><td class="paramname">cpack</td><td>A pointer that will get the packed data field. Must be allocated before this function is called. Pass the allocated size in the lcpack parameter. </td></tr>
    <tr><td class="paramname">lcpack</td><td>Pointer that gets the length of packed field in cpack. This must be set by the calling function to the size available in cpack.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="grib2_8h.html#af837ca43cf1f95ac2d4096d3c3e35576" title="No error.">G2C_NOERROR</a> No error.</li>
<li><a class="el" href="grib2_8h.html#ab939f2e805eff6e23443695b56fb38cc" title="Error encoding/decoding AEC data.">G2C_EAEC</a> Error encoding/decoding AEC data.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Eric Engle (adapted from jpcpack) </dd></dl>

<p class="definition">Definition at line <a class="el" href="aecpack_8c_source.html#l00410">410</a> of file <a class="el" href="aecpack_8c_source.html">aecpack.c</a>.</p>

<p class="reference">References <a class="el" href="aecpack_8c_source.html#l00053">aecpack_int()</a>, and <a class="el" href="grib2_8h_source.html#l00422">G2C_AEC_DRS_TEMPLATE_LEN</a>.</p>

</div>
</div>
<a id="a1dd8e42cf0e81b30e85b5860f2e19368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd8e42cf0e81b30e85b5860f2e19368">&#9670;&nbsp;</a></span>g2c_aecpackf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g2c_aecpackf </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lcpack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function packs up a float array into a AEC code stream. </p>
<p>After the data are scaled, and the reference value is subtracted out, the data are passed to the AEC encoder.</p>
<p>This function also fills in GRIB2 Data Representation Template 5.42 with the appropriate values.</p>
<p>This function is the V2 API version of <a class="el" href="aecpack_8c.html#afb40b559127a62584c554aa169b5256d" title="This function packs up a float array into a AEC code stream.">aecpack()</a> for floats.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fld</td><td>Pointer to the float data values to pack. </td></tr>
    <tr><td class="paramname">width</td><td>The number of points in the x direction. </td></tr>
    <tr><td class="paramname">height</td><td>The number of points in the y direction. </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Contains the array of values for Data Representation Template <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-42.shtml">Table 5.42</a>.<ul>
<li>0 Reference value - ignored on input, set by aecpack routine.</li>
<li>1 Binary Scale Factor - used on input, unchanged by aecpack routine.</li>
<li>2 Decimal Scale Factor - used on input, unchanged by aecpack routine.</li>
<li>3 number of bits for each data value - ignored on input</li>
<li>4 Original field type - currently ignored on input Data values assumed to be reals. Set to 0 on output.</li>
<li>5 CCSDS compression options mask.</li>
<li>6 Block size.</li>
<li>7 Reference sample interval. May be modified in this function. </li>
</ul>
</td></tr>
    <tr><td class="paramname">cpack</td><td>A pointer that will get the packed data field. Must be allocated before this function is called. Pass the allocated size in the lcpack parameter. </td></tr>
    <tr><td class="paramname">lcpack</td><td>Pointer that gets the length of packed field in cpack. This must be set by the calling function to the size available in cpack.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="grib2_8h.html#af837ca43cf1f95ac2d4096d3c3e35576" title="No error.">G2C_NOERROR</a> No error.</li>
<li><a class="el" href="grib2_8h.html#ab939f2e805eff6e23443695b56fb38cc" title="Error encoding/decoding AEC data.">G2C_EAEC</a> Error encoding/decoding AEC data.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Eric Engle (adapted from jpcpack) </dd></dl>

<p class="definition">Definition at line <a class="el" href="aecpack_8c_source.html#l00346">346</a> of file <a class="el" href="aecpack_8c_source.html">aecpack.c</a>.</p>

<p class="reference">References <a class="el" href="aecpack_8c_source.html#l00053">aecpack_int()</a>, and <a class="el" href="grib2_8h_source.html#l00422">G2C_AEC_DRS_TEMPLATE_LEN</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="aecpack_8c.html">aecpack.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
