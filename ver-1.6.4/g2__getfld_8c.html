<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-g2c: g2_getfld.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-g2c
   &#160;<span id="projectnumber">1.6.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('g2__getfld_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">g2_getfld.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Return all the metadata, template values, Bit-map (if applicable), and the unpacked data for a given data field.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="grib2_8h_source.html">grib2.h</a>&quot;</code><br />
</div>
<p><a href="g2__getfld_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abad9d3ba0ee798acd442850573fc6b8e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2__getfld_8c.html#abad9d3ba0ee798acd442850573fc6b8e">g2_getfld</a> (unsigned char *cgrib, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> ifldnum, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> unpack, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> expand, <a class="el" href="grib2_8h.html#structgribfield">gribfield</a> **gfld)</td></tr>
<tr class="memdesc:abad9d3ba0ee798acd442850573fc6b8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine returns all the metadata, template values, bit-map (if applicable), and the unpacked data for a given data field.  <a href="g2__getfld_8c.html#abad9d3ba0ee798acd442850573fc6b8e">More...</a><br /></td></tr>
<tr class="separator:abad9d3ba0ee798acd442850573fc6b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3796bb89e5b8aba66fc624bc8b377a3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2__getfld_8c.html#a3796bb89e5b8aba66fc624bc8b377a3b">g2_unpack1</a> (unsigned char *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *)</td></tr>
<tr class="memdesc:a3796bb89e5b8aba66fc624bc8b377a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect1.shtml">Section 1 - Identification Section</a> as defined in GRIB Edition 2.  <a href="g2__getfld_8c.html#a3796bb89e5b8aba66fc624bc8b377a3b">More...</a><br /></td></tr>
<tr class="separator:a3796bb89e5b8aba66fc624bc8b377a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44c84dc7f9ca05a7901013cd5051000d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2__getfld_8c.html#a44c84dc7f9ca05a7901013cd5051000d">g2_unpack2</a> (unsigned char *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, unsigned char **)</td></tr>
<tr class="memdesc:a44c84dc7f9ca05a7901013cd5051000d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect2.shtml">Section 2 (Local Use Section)</a> as defined in GRIB Edition 2.  <a href="g2__getfld_8c.html#a44c84dc7f9ca05a7901013cd5051000d">More...</a><br /></td></tr>
<tr class="separator:a44c84dc7f9ca05a7901013cd5051000d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3d062f236f46e6835f689a149ef88a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2__getfld_8c.html#a7f3d062f236f46e6835f689a149ef88a">g2_unpack3</a> (unsigned char *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *)</td></tr>
<tr class="memdesc:a7f3d062f236f46e6835f689a149ef88a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine unpacks <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect3.shtml">Section 3 (Grid Definition Section)</a> as defined in GRIB Edition 2.  <a href="g2__getfld_8c.html#a7f3d062f236f46e6835f689a149ef88a">More...</a><br /></td></tr>
<tr class="separator:a7f3d062f236f46e6835f689a149ef88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d98f7e471cce705c43b039b7d87533"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2__getfld_8c.html#a91d98f7e471cce705c43b039b7d87533">g2_unpack4</a> (unsigned char *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#a2e615ee29fc8d17a681017e4384847c2">g2float</a> **, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *)</td></tr>
<tr class="memdesc:a91d98f7e471cce705c43b039b7d87533"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect4.shtml">Section 4 (Product Definition Section)</a> as defined in GRIB Edition 2.  <a href="g2__getfld_8c.html#a91d98f7e471cce705c43b039b7d87533">More...</a><br /></td></tr>
<tr class="separator:a91d98f7e471cce705c43b039b7d87533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37ec4c9e3f74008a74bd11828152df5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2__getfld_8c.html#a37ec4c9e3f74008a74bd11828152df5c">g2_unpack5</a> (unsigned char *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *)</td></tr>
<tr class="memdesc:a37ec4c9e3f74008a74bd11828152df5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks Section 5 (Data Representation Section) as defined in GRIB Edition 2.  <a href="g2__getfld_8c.html#a37ec4c9e3f74008a74bd11828152df5c">More...</a><br /></td></tr>
<tr class="separator:a37ec4c9e3f74008a74bd11828152df5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a12127e9cfe2155056e19b035f9256"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2__getfld_8c.html#a27a12127e9cfe2155056e19b035f9256">g2_unpack6</a> (unsigned char *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **)</td></tr>
<tr class="memdesc:a27a12127e9cfe2155056e19b035f9256"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks Section 6 (Bit-Map Section) as defined in GRIB Edition 2.  <a href="g2__getfld_8c.html#a27a12127e9cfe2155056e19b035f9256">More...</a><br /></td></tr>
<tr class="separator:a27a12127e9cfe2155056e19b035f9256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1783305479f24e498089dd59309215f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2__getfld_8c.html#a1783305479f24e498089dd59309215f6">g2_unpack7</a> (unsigned char *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>, <a class="el" href="grib2_8h.html#a2e615ee29fc8d17a681017e4384847c2">g2float</a> **)</td></tr>
<tr class="memdesc:a1783305479f24e498089dd59309215f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This subroutine unpacks Section 7 (Data Section) as defined in GRIB Edition 2.  <a href="g2__getfld_8c.html#a1783305479f24e498089dd59309215f6">More...</a><br /></td></tr>
<tr class="separator:a1783305479f24e498089dd59309215f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Return all the metadata, template values, Bit-map (if applicable), and the unpacked data for a given data field. </p>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-28 </dd></dl>

<p class="definition">Definition in file <a class="el" href="g2__getfld_8c_source.html">g2_getfld.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="abad9d3ba0ee798acd442850573fc6b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad9d3ba0ee798acd442850573fc6b8e">&#9670;&nbsp;</a></span>g2_getfld()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> g2_getfld </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>ifldnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>unpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>expand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#structgribfield">gribfield</a> **&#160;</td>
          <td class="paramname"><em>gfld</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine returns all the metadata, template values, bit-map (if applicable), and the unpacked data for a given data field. </p>
<p>All of the information returned is stored in a gribfield structure, which is defined in file <a class="el" href="grib2_8h.html" title="Header file for NCEPLIBS-g2c library.">grib2.h</a>. Users of this routine will need to include <a class="el" href="grib2_8h.html" title="Header file for NCEPLIBS-g2c library.">grib2.h</a> in their source code that calls this routine.</p>
<p>Since there can be multiple data fields packed into a GRIB2 message, the calling routine indicates which field is being requested with the ifldnum argument.</p>
<h3><a class="anchor" id="autotoc_md10"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2002-10-28   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Initial    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2013-08-08   </td><td class="markdownTableBodyNone">Vuong   </td><td class="markdownTableBodyNone">Free up memory in array igds - free(igds)   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgrib</td><td>Character pointer to the GRIB2 message. </td></tr>
    <tr><td class="paramname">ifldnum</td><td>Specifies which field in the GRIB2 message to return. The first field is number 1, Fortran style. </td></tr>
    <tr><td class="paramname">unpack</td><td>Boolean value indicating whether to unpack bitmap/data field.<ul>
<li>1 unpack bitmap (if present) and data values.</li>
<li>0 do not unpack bitmap and data values. </li>
</ul>
</td></tr>
    <tr><td class="paramname">expand</td><td>Boolean value indicating whether the data points should be expanded to the correspond grid, if a bit-map is present. This argument is ignored if unpack == 0 OR if the returned field does not contain a bit-map.<ul>
<li>1 if possible, expand data field to grid, inserting zero values at gridpoints that are bitmapped out. (SEE REMARKS2)</li>
<li>0 do not expand data field, leaving it an array of consecutive data points for each "1" in the bitmap. </li>
</ul>
</td></tr>
    <tr><td class="paramname">gfld</td><td>pointer to structure gribfield containing all decoded data for the data field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no error</li>
<li>1 Beginning characters "GRIB" not found.</li>
<li>2 GRIB message is not Edition 2.</li>
<li>3 The data field request number was not positive.</li>
<li>4 End string "7777" found, but not where expected.</li>
<li>6 GRIB message did not contain the requested number of data fields.</li>
<li>7 End string "7777" not found at end of message.</li>
<li>8 Unrecognized Section encountered.</li>
<li>9 Data Representation Template 5.NN not yet implemented.</li>
<li>15 Error unpacking Section 1.</li>
<li>16 Error unpacking Section 2.</li>
<li>10 Error unpacking Section 3.</li>
<li>11 Error unpacking Section 4.</li>
<li>12 Error unpacking Section 5.</li>
<li>13 Error unpacking Section 6.</li>
<li>14 Error unpacking Section 7.</li>
<li>17 Previous bitmap specified, yet none exists.</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Struct gribfield is allocated by this routine and it also contains pointers to many arrays of data that were allocated during decoding. Users are encouraged to free up this memory, when it is no longer needed, by an explicit call to routine <a class="el" href="g2__free_8c.html#a084c47c8f83bb5a5c7799753ac7b6f02" title="This routine frees up memory that was allocated for struct gribfield.">g2_free()</a>.</dd></dl>
<h2><a class="anchor" id="autotoc_md11"></a>
Example:</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="grib2_8h.html">grib2.h</a>&quot;</span></div>
<div class="line"><a class="code" href="grib2_8h.html#structgribfield">gribfield</a> *gfld;</div>
<div class="line">ret=<a class="code" href="g2__getfld_8c.html#abad9d3ba0ee798acd442850573fc6b8e">g2_getfld</a>(cgrib,1,1,1,&amp;gfld);</div>
<div class="line">  ...</div>
<div class="line">g2_free(gfld);</div>
<div class="ttc" id="ag2__getfld_8c_html_abad9d3ba0ee798acd442850573fc6b8e"><div class="ttname"><a href="g2__getfld_8c.html#abad9d3ba0ee798acd442850573fc6b8e">g2_getfld</a></div><div class="ttdeci">g2int g2_getfld(unsigned char *cgrib, g2int ifldnum, g2int unpack, g2int expand, gribfield **gfld)</div><div class="ttdoc">This subroutine returns all the metadata, template values, bit-map (if applicable),...</div><div class="ttdef"><b>Definition:</b> <a href="g2__getfld_8c_source.html#l00102">g2_getfld.c:102</a></div></div>
<div class="ttc" id="agrib2_8h_html"><div class="ttname"><a href="grib2_8h.html">grib2.h</a></div><div class="ttdoc">Header file for NCEPLIBS-g2c library.</div></div>
<div class="ttc" id="agrib2_8h_html_structgribfield"><div class="ttname"><a href="grib2_8h.html#structgribfield">gribfield</a></div><div class="ttdoc">Struct for GRIB field.</div><div class="ttdef"><b>Definition:</b> <a href="grib2_8h_source.html#l00060">grib2.h:61</a></div></div>
</div><!-- fragment --><p>Routine <a class="el" href="g2__info_8c.html#abf8ecb0fe00805abfce20115357b4fa3" title="This subroutine searches through a GRIB2 message and returns the number of gridded fields found in th...">g2_info()</a> can be used to first determine how many data fields exist in a given GRIB message.</p>
<dl class="section note"><dt>Note</dt><dd>It may not always be possible to expand a bit-mapped data field. If a pre-defined bit-map is used and not included in the GRIB2 message itself, this routine would not have the necessary information to expand the data. In this case, gfld-&gt;expanded would would be set to 0 (false), regardless of the value of input argument expand.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-28 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2__getfld_8c_source.html#l00102">102</a> of file <a class="el" href="g2__getfld_8c_source.html">g2_getfld.c</a>.</p>

<p class="reference">References <a class="el" href="grib2_8h_source.html#l00230">gribfield::bmap</a>, <a class="el" href="grib2_8h_source.html#l00191">gribfield::coord_list</a>, <a class="el" href="grib2_8h_source.html#l00067">gribfield::discipline</a>, <a class="el" href="grib2_8h_source.html#l00218">gribfield::expanded</a>, <a class="el" href="grib2_8h_source.html#l00233">gribfield::fld</a>, <a class="el" href="g2__unpack1_8c_source.html#l00055">g2_unpack1()</a>, <a class="el" href="g2__unpack2_8c_source.html#l00037">g2_unpack2()</a>, <a class="el" href="g2__unpack3_8c_source.html#l00057">g2_unpack3()</a>, <a class="el" href="g2__unpack4_8c_source.html#l00045">g2_unpack4()</a>, <a class="el" href="g2__unpack5_8c_source.html#l00042">g2_unpack5()</a>, <a class="el" href="g2__unpack6_8c_source.html#l00033">g2_unpack6()</a>, <a class="el" href="g2__unpack7_8c_source.html#l00065">g2_unpack7()</a>, <a class="el" href="gbits_8c_source.html#l00020">gbit()</a>, <a class="el" href="grib2_8h_source.html#l00135">gribfield::griddef</a>, <a class="el" href="grib2_8h_source.html#l00226">gribfield::ibmap</a>, <a class="el" href="grib2_8h_source.html#l00201">gribfield::idrtlen</a>, <a class="el" href="grib2_8h_source.html#l00205">gribfield::idrtmpl</a>, <a class="el" href="grib2_8h_source.html#l00198">gribfield::idrtnum</a>, <a class="el" href="grib2_8h_source.html#l00115">gribfield::idsect</a>, <a class="el" href="grib2_8h_source.html#l00118">gribfield::idsectlen</a>, <a class="el" href="grib2_8h_source.html#l00128">gribfield::ifldnum</a>, <a class="el" href="grib2_8h_source.html#l00167">gribfield::igdtlen</a>, <a class="el" href="grib2_8h_source.html#l00171">gribfield::igdtmpl</a>, <a class="el" href="grib2_8h_source.html#l00163">gribfield::igdtnum</a>, <a class="el" href="grib2_8h_source.html#l00148">gribfield::interp_opt</a>, <a class="el" href="grib2_8h_source.html#l00179">gribfield::ipdtlen</a>, <a class="el" href="grib2_8h_source.html#l00183">gribfield::ipdtmpl</a>, <a class="el" href="grib2_8h_source.html#l00175">gribfield::ipdtnum</a>, <a class="el" href="grib2_8h_source.html#l00159">gribfield::list_opt</a>, <a class="el" href="grib2_8h_source.html#l00122">gribfield::local</a>, <a class="el" href="grib2_8h_source.html#l00125">gribfield::locallen</a>, <a class="el" href="grib2_8h_source.html#l00194">gribfield::ndpts</a>, <a class="el" href="grib2_8h_source.html#l00138">gribfield::ngrdpts</a>, <a class="el" href="grib2_8h_source.html#l00186">gribfield::num_coord</a>, <a class="el" href="grib2_8h_source.html#l00154">gribfield::num_opt</a>, <a class="el" href="grib2_8h_source.html#l00143">gribfield::numoct_opt</a>, <a class="el" href="grib2_8h_source.html#l00209">gribfield::unpacked</a>, and <a class="el" href="grib2_8h_source.html#l00063">gribfield::version</a>.</p>

</div>
</div>
<a id="a3796bb89e5b8aba66fc624bc8b377a3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3796bb89e5b8aba66fc624bc8b377a3b">&#9670;&nbsp;</a></span>g2_unpack1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> g2_unpack1 </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>idslen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect1.shtml">Section 1 - Identification Section</a> as defined in GRIB Edition 2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgrib</td><td>char array containing Section 1 of the GRIB2 message. </td></tr>
    <tr><td class="paramname">iofst</td><td>Bit offset for the beginning of Section 1 in cgrib.</td></tr>
    <tr><td class="paramname">ids</td><td>Pointer that gets an array which contians the information read from Section 1, the Identification section. This array is allocated by this function, and must be freed by caller (using <a class="el" href="g2__free_8c.html#a084c47c8f83bb5a5c7799753ac7b6f02" title="This routine frees up memory that was allocated for struct gribfield.">g2_free()</a>).<ul>
<li>ids[0] Identification of originating Centre (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/on388/table0.html">Table 0</a>).</li>
<li>ids[1] Identification of originating Sub-centre (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/on388/tablec.html">Table C</a>).</li>
<li>ids[2] GRIB Master Tables Version Number (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-0.shtml">Table 1.0</a>).</li>
<li>ids[3] GRIB Local Tables Version Number (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-1.shtml">Table 1.1</a>).</li>
<li>ids[4] Significance of Reference Time (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-2.shtml">Table 1.2</a>).</li>
<li>ids[5] Year (4 digits)</li>
<li>ids[6] Month</li>
<li>ids[7] Day</li>
<li>ids[8] Hour</li>
<li>ids[9] Minute</li>
<li>ids[10] Second</li>
<li>ids[11] Production status of processed data (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-3.shtml">Table 1.3</a>).</li>
<li>ids[12] Type of processed data (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table1-4.shtml">Table 1.4</a>). </li>
</ul>
</td></tr>
    <tr><td class="paramname">idslen</td><td>Number of elements in ids.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no error</li>
<li>2 Array passed is not section 1</li>
<li>6 memory allocation error</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-29 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2__unpack1_8c_source.html#l00055">55</a> of file <a class="el" href="g2__unpack1_8c_source.html">g2_unpack1.c</a>.</p>

<p class="reference">References <a class="el" href="gbits_8c_source.html#l00020">gbit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__getfld_8c_source.html#l00102">g2_getfld()</a>.</p>

</div>
</div>
<a id="a44c84dc7f9ca05a7901013cd5051000d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44c84dc7f9ca05a7901013cd5051000d">&#9670;&nbsp;</a></span>g2_unpack2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> g2_unpack2 </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>lencsec2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char **&#160;</td>
          <td class="paramname"><em>csec2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect2.shtml">Section 2 (Local Use Section)</a> as defined in GRIB Edition 2. </p>
<h3><a class="anchor" id="autotoc_md12"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2002-10-31   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Initial    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2008-12-23   </td><td class="markdownTableBodyNone">Wesley   </td><td class="markdownTableBodyNone">Initialize lencsec2 Length of Local Use data    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2010-08-05   </td><td class="markdownTableBodyNone">Vuong   </td><td class="markdownTableBodyNone">If section 2 has zero length, ierr=0   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgrib</td><td>char array containing Section 2 of the GRIB2 message. </td></tr>
    <tr><td class="paramname">iofst</td><td>Bit offset for the beginning of Section 2 in cgrib. The modified version will be returned. </td></tr>
    <tr><td class="paramname">lencsec2</td><td>Length (in octets) of Local Use data. </td></tr>
    <tr><td class="paramname">csec2</td><td>Pointer to a char array containing local use data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no error</li>
<li>2 Array passed is not section 2</li>
<li>6 memory allocation error</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-31 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2__unpack2_8c_source.html#l00037">37</a> of file <a class="el" href="g2__unpack2_8c_source.html">g2_unpack2.c</a>.</p>

<p class="reference">References <a class="el" href="gbits_8c_source.html#l00020">gbit()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__getfld_8c_source.html#l00102">g2_getfld()</a>.</p>

</div>
</div>
<a id="a7f3d062f236f46e6835f689a149ef88a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3d062f236f46e6835f689a149ef88a">&#9670;&nbsp;</a></span>g2_unpack3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> g2_unpack3 </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **&#160;</td>
          <td class="paramname"><em>igds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **&#160;</td>
          <td class="paramname"><em>igdstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>mapgridlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **&#160;</td>
          <td class="paramname"><em>ideflist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>idefnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine unpacks <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect3.shtml">Section 3 (Grid Definition Section)</a> as defined in GRIB Edition 2. </p>
<h3><a class="anchor" id="autotoc_md13"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2002-10-31   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Initial    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2009-01-14   </td><td class="markdownTableBodyNone">Vuong   </td><td class="markdownTableBodyNone">Changed structure name template to gtemplate   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgrib</td><td>Char array ontaining Section 3 of the GRIB2 message. </td></tr>
    <tr><td class="paramname">iofst</td><td>Bit offset for the beginning of Section 3 in cgrib. </td></tr>
    <tr><td class="paramname">igds</td><td>Contains information read from the appropriate GRIB Grid Definition Section 3 for the field being returned.<ul>
<li>igds[0] Source of grid definition (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-0.shtml">Table 3.0</a>).</li>
<li>igds[1] Number of grid points in the defined grid.</li>
<li>igds[2] Number of octets needed for each additional grid points definition. Used to define number of points in each row (or column) for non-regular grids. = 0, if using regular grid.</li>
<li>igds[3] Interpretation of list for optional points definition. (See <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-11.shtml">Table 3.11</a>)</li>
<li>igds[4] Grid Definition Template Number (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table3-1.shtml">Table 3.1</a>). </li>
</ul>
</td></tr>
    <tr><td class="paramname">igdstmpl</td><td>Pointer to integer array containing the data values for the Grid Definition Template specified by igds[4]. </td></tr>
    <tr><td class="paramname">mapgridlen</td><td>Number of elements in igdstmpl. i.e. number of entries in Grid Defintion Template specified by igds[4]. </td></tr>
    <tr><td class="paramname">ideflist</td><td>(Used if igds[2] .ne. 0) Pointer to integer array containing the number of grid points contained in each row (or column). </td></tr>
    <tr><td class="paramname">idefnum</td><td>(Used if igds[2] .ne. 0) The number of entries in array ideflist - i.e. number of rows (or columns) for which optional grid points are defined.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no error</li>
<li>2 Not Section 3</li>
<li>5 message contains an undefined Grid Definition Template.</li>
<li>6 memory allocation error</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-31 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2__unpack3_8c_source.html#l00057">57</a> of file <a class="el" href="g2__unpack3_8c_source.html">g2_unpack3.c</a>.</p>

<p class="reference">References <a class="el" href="grib2_8h_source.html#l00052">gtemplate::ext</a>, <a class="el" href="gridtemplates_8c_source.html#l00124">extgridtemplate()</a>, <a class="el" href="grib2_8h_source.html#l00048">gtemplate::extlen</a>, <a class="el" href="gbits_8c_source.html#l00020">gbit()</a>, <a class="el" href="gbits_8c_source.html#l00057">gbits()</a>, <a class="el" href="gridtemplates_8c_source.html#l00075">getgridtemplate()</a>, <a class="el" href="grib2_8h_source.html#l00042">gtemplate::map</a>, <a class="el" href="grib2_8h_source.html#l00038">gtemplate::maplen</a>, and <a class="el" href="grib2_8h_source.html#l00045">gtemplate::needext</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__getfld_8c_source.html#l00102">g2_getfld()</a>, <a class="el" href="getdim_8c_source.html#l00029">getdim()</a>, and <a class="el" href="getpoly_8c_source.html#l00040">getpoly()</a>.</p>

</div>
</div>
<a id="a91d98f7e471cce705c43b039b7d87533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91d98f7e471cce705c43b039b7d87533">&#9670;&nbsp;</a></span>g2_unpack4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> g2_unpack4 </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>ipdsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **&#160;</td>
          <td class="paramname"><em>ipdstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>mappdslen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#a2e615ee29fc8d17a681017e4384847c2">g2float</a> **&#160;</td>
          <td class="paramname"><em>coordlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>numcoord</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_sect4.shtml">Section 4 (Product Definition Section)</a> as defined in GRIB Edition 2. </p>
<h3><a class="anchor" id="autotoc_md14"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2002-10-31   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Initial    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2009-01-14   </td><td class="markdownTableBodyNone">Vuong   </td><td class="markdownTableBodyNone">Changed structure name template to gtemplate   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgrib</td><td>Array containing Section 4 of the GRIB2 message. </td></tr>
    <tr><td class="paramname">iofst</td><td>Bit offset of the beginning of Section 4 in cgrib. Returned with updated bit offset. </td></tr>
    <tr><td class="paramname">ipdsnum</td><td>Product Definition Template Number (see <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_table4-0.shtml">Table 4.0</a>). </td></tr>
    <tr><td class="paramname">ipdstmpl</td><td>Pointer that gets an integer array containing the data values for the Product Definition Template specified by ipdsnum. </td></tr>
    <tr><td class="paramname">mappdslen</td><td>Number of elements in ipdstmpl - i.e. number of entries in Product Defintion Template specified by ipdsnum. </td></tr>
    <tr><td class="paramname">coordlist</td><td>Pointer that gets an array containing floating point values intended to document the vertical discretisation associated to model data on hybrid coordinate vertical levels. </td></tr>
    <tr><td class="paramname">numcoord</td><td>number of values in array coordlist.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no error</li>
<li>2 Not section 4</li>
<li>5 "GRIB" message contains an undefined Product Definition Template.</li>
<li>6 memory allocation error</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-31 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2__unpack4_8c_source.html#l00045">45</a> of file <a class="el" href="g2__unpack4_8c_source.html">g2_unpack4.c</a>.</p>

<p class="reference">References <a class="el" href="grib2_8h_source.html#l00052">gtemplate::ext</a>, <a class="el" href="grib2_8h_source.html#l00048">gtemplate::extlen</a>, <a class="el" href="pdstemplates_8c_source.html#l00121">extpdstemplate()</a>, <a class="el" href="gbits_8c_source.html#l00020">gbit()</a>, <a class="el" href="gbits_8c_source.html#l00057">gbits()</a>, <a class="el" href="pdstemplates_8c_source.html#l00073">getpdstemplate()</a>, <a class="el" href="grib2_8h_source.html#l00042">gtemplate::map</a>, <a class="el" href="grib2_8h_source.html#l00038">gtemplate::maplen</a>, <a class="el" href="grib2_8h_source.html#l00045">gtemplate::needext</a>, and <a class="el" href="rdieee_8c_source.html#l00020">rdieee()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__getfld_8c_source.html#l00102">g2_getfld()</a>.</p>

</div>
</div>
<a id="a37ec4c9e3f74008a74bd11828152df5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37ec4c9e3f74008a74bd11828152df5c">&#9670;&nbsp;</a></span>g2_unpack5()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> g2_unpack5 </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>ndpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>idrsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>mapdrslen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks Section 5 (Data Representation Section) as defined in GRIB Edition 2. </p>
<h3><a class="anchor" id="autotoc_md15"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2002-10-31   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Initial    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2009-01-14   </td><td class="markdownTableBodyNone">Vuong   </td><td class="markdownTableBodyNone">Changed structure name template to gtemplate   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgrib</td><td>char array containing Section 5 of the GRIB2 message. </td></tr>
    <tr><td class="paramname">iofst</td><td>Bit offset for the beginning of Section 5 in cgrib. Returned with bit offset at the end of Section 5. </td></tr>
    <tr><td class="paramname">ndpts</td><td>Number of data points unpacked and returned. </td></tr>
    <tr><td class="paramname">idrsnum</td><td>Data Representation Template Number (see Code Table 5.0). </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Pointer to an integer array containing the data values for the specified Data Representation Template (N=idrsnum). Each element of this integer array contains an entry (in the order specified) of Data Representation Template 5.N. </td></tr>
    <tr><td class="paramname">mapdrslen-</td><td>Number of elements in idrstmpl. i.e. number of entries in Data Representation Template 5.N (N=idrsnum).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no error</li>
<li>2 Not Section 5</li>
<li>6 memory allocation error</li>
<li>7 "GRIB" message contains an undefined Data Representation Template.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-31 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2__unpack5_8c_source.html#l00042">42</a> of file <a class="el" href="g2__unpack5_8c_source.html">g2_unpack5.c</a>.</p>

<p class="reference">References <a class="el" href="grib2_8h_source.html#l00052">gtemplate::ext</a>, <a class="el" href="drstemplates_8c_source.html#l00110">extdrstemplate()</a>, <a class="el" href="grib2_8h_source.html#l00048">gtemplate::extlen</a>, <a class="el" href="gbits_8c_source.html#l00020">gbit()</a>, <a class="el" href="drstemplates_8c_source.html#l00064">getdrstemplate()</a>, <a class="el" href="grib2_8h_source.html#l00042">gtemplate::map</a>, <a class="el" href="grib2_8h_source.html#l00038">gtemplate::maplen</a>, and <a class="el" href="grib2_8h_source.html#l00045">gtemplate::needext</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__getfld_8c_source.html#l00102">g2_getfld()</a>.</p>

</div>
</div>
<a id="a27a12127e9cfe2155056e19b035f9256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a12127e9cfe2155056e19b035f9256">&#9670;&nbsp;</a></span>g2_unpack6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> g2_unpack6 </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>ngpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>ibmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> **&#160;</td>
          <td class="paramname"><em>bmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks Section 6 (Bit-Map Section) as defined in GRIB Edition 2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgrib</td><td>char array containing Section 6 of the GRIB2 message. </td></tr>
    <tr><td class="paramname">iofst</td><td>Bit offset of the beginning of Section 6 in cgrib. </td></tr>
    <tr><td class="paramname">ngpts</td><td>Number of grid points specified in the bit-map </td></tr>
    <tr><td class="paramname">ibmap</td><td>Bitmap indicator (see Code Table 6.0)<ul>
<li>0 bitmap applies and is included in Section 6.</li>
<li>1-253 Predefined bitmap applies</li>
<li>254 Previously defined bitmap applies to this field</li>
<li>255 Bit map does not apply to this product. </li>
</ul>
</td></tr>
    <tr><td class="paramname">bmap</td><td>Pointer to an integer array containing decoded bitmap. (if ibmap=0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no error</li>
<li>2 Not Section 6</li>
<li>4 Unrecognized pre-defined bit-map.</li>
<li>6 memory allocation error</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-31 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2__unpack6_8c_source.html#l00033">33</a> of file <a class="el" href="g2__unpack6_8c_source.html">g2_unpack6.c</a>.</p>

<p class="reference">References <a class="el" href="gbits_8c_source.html#l00020">gbit()</a>, and <a class="el" href="gbits_8c_source.html#l00057">gbits()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__getfld_8c_source.html#l00102">g2_getfld()</a>.</p>

</div>
</div>
<a id="a1783305479f24e498089dd59309215f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1783305479f24e498089dd59309215f6">&#9670;&nbsp;</a></span>g2_unpack7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> g2_unpack7 </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cgrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>iofst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>igdsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>igdstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>idrsnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>ndpts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#a2e615ee29fc8d17a681017e4384847c2">g2float</a> **&#160;</td>
          <td class="paramname"><em>fld</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This subroutine unpacks Section 7 (Data Section) as defined in GRIB Edition 2. </p>
<h3><a class="anchor" id="autotoc_md16"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2002-10-31   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Initial    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2002-12-20   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Added GDT info to arguments and added 5.51 processing.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2003-08-29   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">New templates using PNG and JPEG2000 algorithms/templates.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2004-11-29   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">JPEG2000 now allowed to use WMO Template 5.40 PNG allowed to use 5.41    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2004-12-16   </td><td class="markdownTableBodyNone">Taylor   </td><td class="markdownTableBodyNone">Added check on comunpack return code.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2008-12-23   </td><td class="markdownTableBodyNone">Wesley   </td><td class="markdownTableBodyNone">Initialize Number of data points unpacked   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cgrib</td><td>char array containing Section 7 of the GRIB2 message </td></tr>
    <tr><td class="paramname">iofst</td><td>Bit offset of the beginning of Section 7 in cgrib. </td></tr>
    <tr><td class="paramname">igdsnum</td><td>Grid Definition Template Number (see Code Table 3.0) (Only used for DRS Template 5.51) </td></tr>
    <tr><td class="paramname">igdstmpl</td><td>Pointer to an integer array containing the data values for the specified Grid Definition Template (N=igdsnum). Each element of this integer array contains an entry (in the order specified) of Grid Definition Template 3.N. (Only used for DRS Template 5.51). </td></tr>
    <tr><td class="paramname">idrsnum</td><td>Data Representation Template Number (see Code Table 5.0) </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Pointer to an integer array containing the data values for the specified Data Representation Template (N=idrsnum). Each element of this integer array contains an entry (in the order specified) of Data Representation Template 5.N </td></tr>
    <tr><td class="paramname">ndpts</td><td>Number of data points unpacked and returned. </td></tr>
    <tr><td class="paramname">fld</td><td>Pointer to a float array containing the unpacked data field.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 no error</li>
<li>2 Not section 7</li>
<li>4 Unrecognized Data Representation Template</li>
<li>5 need one of GDT 3.50 through 3.53 to decode DRT 5.51</li>
<li>6 memory allocation error</li>
<li>7 corrupt section 7.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2002-10-31 </dd></dl>

<p class="definition">Definition at line <a class="el" href="g2__unpack7_8c_source.html#l00065">65</a> of file <a class="el" href="g2__unpack7_8c_source.html">g2_unpack7.c</a>.</p>

<p class="reference">References <a class="el" href="comunpack_8c_source.html#l00042">comunpack()</a>, <a class="el" href="gbits_8c_source.html#l00020">gbit()</a>, <a class="el" href="jpcunpack_8c_source.html#l00031">jpcunpack()</a>, <a class="el" href="pngunpack_8c_source.html#l00030">pngunpack()</a>, <a class="el" href="rdieee_8c_source.html#l00020">rdieee()</a>, <a class="el" href="simunpack_8c_source.html#l00026">simunpack()</a>, and <a class="el" href="specunpack_8c_source.html#l00035">specunpack()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__getfld_8c_source.html#l00102">g2_getfld()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="g2__getfld_8c.html">g2_getfld.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
