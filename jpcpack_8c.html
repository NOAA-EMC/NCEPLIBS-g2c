<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-g2c: jpcpack.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-g2c
   &#160;<span id="projectnumber">1.8.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('jpcpack_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">jpcpack.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Pack and unpack an array of float/double using JPEG2000.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &quot;<a class="el" href="grib2__int_8h_source.html">grib2_int.h</a>&quot;</code><br />
</div>
<p><a href="jpcpack_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a29a71629c41dfefe937460952ffa18f1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jpcpack_8c.html#a29a71629c41dfefe937460952ffa18f1">g2c_jpcpackd</a> (double *fld, size_t width, size_t height, int *idrstmpl, unsigned char *cpack, size_t *lcpack)</td></tr>
<tr class="memdesc:a29a71629c41dfefe937460952ffa18f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function packs up a double array into a JPEG2000 code stream.  <a href="jpcpack_8c.html#a29a71629c41dfefe937460952ffa18f1">More...</a><br /></td></tr>
<tr class="separator:a29a71629c41dfefe937460952ffa18f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b892e53508c65fd31c6564d5418c824"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jpcpack_8c.html#a7b892e53508c65fd31c6564d5418c824">g2c_jpcpackf</a> (float *fld, size_t width, size_t height, int *idrstmpl, unsigned char *cpack, size_t *lcpack)</td></tr>
<tr class="memdesc:a7b892e53508c65fd31c6564d5418c824"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function packs up a float array into a JPEG2000 code stream.  <a href="jpcpack_8c.html#a7b892e53508c65fd31c6564d5418c824">More...</a><br /></td></tr>
<tr class="separator:a7b892e53508c65fd31c6564d5418c824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5fa531e1573e7ae501a4e2826d22e89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jpcpack_8c.html#ac5fa531e1573e7ae501a4e2826d22e89">jpcpack</a> (float *fld, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> width, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> height, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *idrstmpl, unsigned char *cpack, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *lcpack)</td></tr>
<tr class="memdesc:ac5fa531e1573e7ae501a4e2826d22e89"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function packs up a float array into a JPEG2000 code stream.  <a href="jpcpack_8c.html#ac5fa531e1573e7ae501a4e2826d22e89">More...</a><br /></td></tr>
<tr class="separator:ac5fa531e1573e7ae501a4e2826d22e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad647202ae0cbd537a9fed7bff5b45992"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jpcpack_8c.html#ad647202ae0cbd537a9fed7bff5b45992">jpcpack_int</a> (void *fld, int fld_is_double, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> width, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> height, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *idrstmpl, unsigned char *cpack, <a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *lcpack, int verbose)</td></tr>
<tr class="memdesc:ad647202ae0cbd537a9fed7bff5b45992"><td class="mdescLeft">&#160;</td><td class="mdescRight">This internal function packs up a float or double array into a JPEG2000 code stream.  <a href="jpcpack_8c.html#ad647202ae0cbd537a9fed7bff5b45992">More...</a><br /></td></tr>
<tr class="separator:ad647202ae0cbd537a9fed7bff5b45992"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Pack and unpack an array of float/double using JPEG2000. </p>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2003-08-17</dd></dl>
<h3><a class="anchor" id="autotoc_md22"></a>
Program History Log</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Programmer   </th><th class="markdownTableHeadNone">Comments    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2003-08-17   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Initial.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2004-11-92   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Fixed bug packing a near constant field.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2004-07-19   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">If jpeg2000 encoding fails, try again with different encoder options.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">2005-05-10   </td><td class="markdownTableBodyNone">Gilbert   </td><td class="markdownTableBodyNone">Imposed minimum size on cpack.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">2022-08-12   </td><td class="markdownTableBodyNone">Hartnett   </td><td class="markdownTableBodyNone">Now handle doubles too.   </td></tr>
</table>

<p class="definition">Definition in file <a class="el" href="jpcpack_8c_source.html">jpcpack.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a29a71629c41dfefe937460952ffa18f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29a71629c41dfefe937460952ffa18f1">&#9670;&nbsp;</a></span>g2c_jpcpackd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g2c_jpcpackd </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lcpack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function packs up a double array into a JPEG2000 code stream. </p>
<p>After the data are scaled, and the reference value is subtracted out, the data are treated as a grayscale image and passed to a JPEG2000 encoder.</p>
<p>This function also fills in GRIB2 Data Representation Template 5.40 or 5.40000 with the appropriate values.</p>
<p>This function is the V2 API version of <a class="el" href="jpcpack_8c.html#ac5fa531e1573e7ae501a4e2826d22e89" title="This function packs up a float array into a JPEG2000 code stream.">jpcpack()</a> for doubles.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fld</td><td>Pointer to the double data values to pack. </td></tr>
    <tr><td class="paramname">width</td><td>The number of points in the x direction. </td></tr>
    <tr><td class="paramname">height</td><td>The number of points in the y direction. </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Contains the array of values for Data Representation Template <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-40.shtml">Table 5.40</a> or 5.40000.<ul>
<li>0 Reference value - ignored on input, set by jpcpack routine.</li>
<li>1 Binary Scale Factor - used on input, unchanged by jpcpack routine.</li>
<li>2 Decimal Scale Factor - used on input, unchanged by jpcpack routine.</li>
<li>3 number of bits for each data value - ignored on input</li>
<li>4 Original field type - currently ignored on input Data values assumed to be reals. Set to 0 on output.</li>
<li>5 if 0 use lossless compression, if 1 use lossy compression.</li>
<li>6 Desired compression ratio, if idrstmpl[5]=1. Set to 255, if idrstmpl[5]=0. May be modified in this function. </li>
</ul>
</td></tr>
    <tr><td class="paramname">cpack</td><td>A pointer that will get the packed data field. Must be allocated before this function is called. Pass the allocated size in the lcpack parameter. </td></tr>
    <tr><td class="paramname">lcpack</td><td>Pointer that gets the length of packed field in cpack. This must be set by the calling function to the size available in cpack.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="grib2_8h.html#af837ca43cf1f95ac2d4096d3c3e35576" title="No error.">G2C_NOERROR</a> No error.</li>
<li><a class="el" href="grib2_8h.html#af08bc0c9226ed15638aa909821d4b04b" title="Error encoding/decoding JPEG data.">G2C_EJPEG</a> Error encoding/decoding JPEG data.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ed Hartnett </dd></dl>

<p class="definition">Definition at line <a class="el" href="jpcpack_8c_source.html#l00387">387</a> of file <a class="el" href="jpcpack_8c_source.html">jpcpack.c</a>.</p>

<p class="reference">References <a class="el" href="grib2_8h_source.html#l00420">G2C_JPEG_DRS_TEMPLATE_LEN</a>, and <a class="el" href="jpcpack_8c_source.html#l00055">jpcpack_int()</a>.</p>

</div>
</div>
<a id="a7b892e53508c65fd31c6564d5418c824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b892e53508c65fd31c6564d5418c824">&#9670;&nbsp;</a></span>g2c_jpcpackf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g2c_jpcpackf </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>lcpack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function packs up a float array into a JPEG2000 code stream. </p>
<p>After the data are scaled, and the reference value is subtracted out, the data are treated as a grayscale image and passed to a JPEG2000 encoder.</p>
<p>This function also fills in GRIB2 Data Representation Template 5.40 or 5.40000 with the appropriate values.</p>
<p>This function is the V2 API version of <a class="el" href="jpcpack_8c.html#ac5fa531e1573e7ae501a4e2826d22e89" title="This function packs up a float array into a JPEG2000 code stream.">jpcpack()</a> for floats.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fld</td><td>Pointer to the float data values to pack. </td></tr>
    <tr><td class="paramname">width</td><td>The number of points in the x direction. </td></tr>
    <tr><td class="paramname">height</td><td>The number of points in the y direction. </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Contains the array of values for Data Representation Template <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-40.shtml">Table 5.40</a> or 5.40000.<ul>
<li>0 Reference value - ignored on input, set by jpcpack routine.</li>
<li>1 Binary Scale Factor - used on input, unchanged by jpcpack routine.</li>
<li>2 Decimal Scale Factor - used on input, unchanged by jpcpack routine.</li>
<li>3 number of bits for each data value - ignored on input</li>
<li>4 Original field type - currently ignored on input Data values assumed to be reals. Set to 0 on output.</li>
<li>5 if 0 use lossless compression, if 1 use lossy compression.</li>
<li>6 Desired compression ratio, if idrstmpl[5]=1. Set to 255, if idrstmpl[5]=0. May be modified in this function. </li>
</ul>
</td></tr>
    <tr><td class="paramname">cpack</td><td>A pointer that will get the packed data field. Must be allocated before this function is called. Pass the allocated size in the lcpack parameter. </td></tr>
    <tr><td class="paramname">lcpack</td><td>Pointer that gets the length of packed field in cpack. This must be set by the calling function to the size available in cpack.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="grib2_8h.html#af837ca43cf1f95ac2d4096d3c3e35576" title="No error.">G2C_NOERROR</a> No error.</li>
<li><a class="el" href="grib2_8h.html#af08bc0c9226ed15638aa909821d4b04b" title="Error encoding/decoding JPEG data.">G2C_EJPEG</a> Error encoding/decoding JPEG data.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ed Hartnett </dd></dl>

<p class="definition">Definition at line <a class="el" href="jpcpack_8c_source.html#l00321">321</a> of file <a class="el" href="jpcpack_8c_source.html">jpcpack.c</a>.</p>

<p class="reference">References <a class="el" href="grib2_8h_source.html#l00420">G2C_JPEG_DRS_TEMPLATE_LEN</a>, and <a class="el" href="jpcpack_8c_source.html#l00055">jpcpack_int()</a>.</p>

</div>
</div>
<a id="ac5fa531e1573e7ae501a4e2826d22e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5fa531e1573e7ae501a4e2826d22e89">&#9670;&nbsp;</a></span>jpcpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jpcpack </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>lcpack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function packs up a float array into a JPEG2000 code stream. </p>
<p>After the data are scaled, and the reference value is subtracted out, the data are treated as a grayscale image and passed to a JPEG2000 encoder.</p>
<p>This function also fills in GRIB2 Data Representation Template 5.40 or 5.40000 with the appropriate values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fld</td><td>Pointer to the float data values to pack. </td></tr>
    <tr><td class="paramname">width</td><td>The number of points in the x direction. </td></tr>
    <tr><td class="paramname">height</td><td>The number of points in the y direction. </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Contains the array of values for Data Representation Template <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-40.shtml">Table 5.40</a> or 5.40000.<ul>
<li>0 Reference value - ignored on input, set by jpcpack routine.</li>
<li>1 Binary Scale Factor - used on input, unchanged by jpcpack routine.</li>
<li>2 Decimal Scale Factor - used on input, unchanged by jpcpack routine.</li>
<li>3 number of bits for each data value - ignored on input</li>
<li>4 Original field type - currently ignored on input Data values assumed to be reals. Set to 0 on output.</li>
<li>5 if 0 use lossless compression, if 1 use lossy compression.</li>
<li>6 Desired compression ratio, if idrstmpl[5]=1. Set to 255, if idrstmpl[5]=0. May be modified in this function. </li>
</ul>
</td></tr>
    <tr><td class="paramname">cpack</td><td>A pointer that will get the packed data field. Must be allocated before this function is called. Pass the allocated size in the lcpack parameter. </td></tr>
    <tr><td class="paramname">lcpack</td><td>Pointer that gets the length of packed field in cpack. This must be set by the calling function to the size available in cpack.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert, Ed Hartnett </dd></dl>

<p class="definition">Definition at line <a class="el" href="jpcpack_8c_source.html#l00270">270</a> of file <a class="el" href="jpcpack_8c_source.html">jpcpack.c</a>.</p>

<p class="reference">References <a class="el" href="jpcpack_8c_source.html#l00055">jpcpack_int()</a>.</p>

<p class="reference">Referenced by <a class="el" href="g2__addfield_8c_source.html#l00099">g2_addfield()</a>.</p>

</div>
</div>
<a id="ad647202ae0cbd537a9fed7bff5b45992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad647202ae0cbd537a9fed7bff5b45992">&#9670;&nbsp;</a></span>jpcpack_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int jpcpack_int </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fld</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fld_is_double</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a>&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>idrstmpl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>cpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grib2_8h.html#af0b63b0e0f41f07f562a4367e2a60838">g2int</a> *&#160;</td>
          <td class="paramname"><em>lcpack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This internal function packs up a float or double array into a JPEG2000 code stream. </p>
<p>This function is used by <a class="el" href="jpcpack_8c.html#ac5fa531e1573e7ae501a4e2826d22e89" title="This function packs up a float array into a JPEG2000 code stream.">jpcpack()</a>, <a class="el" href="jpcpack_8c.html#a7b892e53508c65fd31c6564d5418c824" title="This function packs up a float array into a JPEG2000 code stream.">g2c_jpcpackf()</a>, and <a class="el" href="jpcpack_8c.html#a29a71629c41dfefe937460952ffa18f1" title="This function packs up a double array into a JPEG2000 code stream.">g2c_jpcpackd()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fld</td><td>Pointer to the float or double data values to pack. </td></tr>
    <tr><td class="paramname">fld_is_double</td><td>If non-zero, then fld points to array of doubles, otherwise an array of floats. </td></tr>
    <tr><td class="paramname">width</td><td>The number of points in the x direction. </td></tr>
    <tr><td class="paramname">height</td><td>The number of points in the y direction. </td></tr>
    <tr><td class="paramname">idrstmpl</td><td>Contains the array of values for Data Representation Template <a href="https://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_doc/grib2_temp5-40.shtml">Table 5.40</a> or 5.40000. May be modified in this function. </td></tr>
    <tr><td class="paramname">cpack</td><td>A pointer that will get the packed data field. Must be allocated before this function is called. Pass the allocated size in the lcpack parameter. </td></tr>
    <tr><td class="paramname">lcpack</td><td>Pointer that gets the length of packed field in cpack. This must also be set by the calling function to the size available in cpack. </td></tr>
    <tr><td class="paramname">verbose</td><td>If non-zero, error messages will be printed in case of error. Otherwise, error codes will be return but no error messages printed. Calls to the original g2c API may cause error messages to be printed in case of error. For the new g2c_ API, no error messages will be printed - instead an error code will be returned. Call <a class="el" href="g2cutil_8c.html#a1792f482362669e846f8f69e0eb63fe0" title="Given an error code, return an error message.">g2c_strerror()</a> to get the error message for any error code.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li><a class="el" href="grib2_8h.html#af837ca43cf1f95ac2d4096d3c3e35576" title="No error.">G2C_NOERROR</a> No error.</li>
<li><a class="el" href="grib2_8h.html#af08bc0c9226ed15638aa909821d4b04b" title="Error encoding/decoding JPEG data.">G2C_EJPEG</a> Error encoding/decoding JPEG data.</li>
</ul>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Stephen Gilbert, Ed Hartnett </dd></dl>

<p class="definition">Definition at line <a class="el" href="jpcpack_8c_source.html#l00055">55</a> of file <a class="el" href="jpcpack_8c_source.html">jpcpack.c</a>.</p>

<p class="reference">References <a class="el" href="grib2__int_8h_source.html#l00030">ALOG2</a>, <a class="el" href="enc__jpeg2000_8c_source.html#l00100">enc_jpeg2000()</a>, <a class="el" href="grib2_8h_source.html#l00510">G2C_EJPEG</a>, <a class="el" href="grib2_8h_source.html#l00491">G2C_NOERROR</a>, <a class="el" href="int__power_8c_source.html#l00018">int_power()</a>, <a class="el" href="grib2__int_8h_source.html#l00426">LOG</a>, <a class="el" href="mkieee_8c_source.html#l00022">mkieee()</a>, and <a class="el" href="gbits_8c_source.html#l00180">sbits()</a>.</p>

<p class="reference">Referenced by <a class="el" href="jpcpack_8c_source.html#l00387">g2c_jpcpackd()</a>, <a class="el" href="jpcpack_8c_source.html#l00321">g2c_jpcpackf()</a>, and <a class="el" href="jpcpack_8c_source.html#l00270">jpcpack()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="jpcpack_8c.html">jpcpack.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
